"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[994],{7994:function(t,s,e){e.r(s),e.d(s,{default:function(){return D}});var a=e(3396),i=e(9242),n=e(7139);const o=t=>((0,a.dD)("data-v-4659f936"),t=t(),(0,a.Cn)(),t),r={class:"api"},l={class:"category getJob"},u=(0,a.Uk)(" Получить вакансии в России   "),c=(0,a.Uk)("      "),d=(0,a.Uk)(" Получить вакансии в Удмуртии   "),h=o((()=>(0,a._)("p",null,"Поиск профессии",-1))),p={class:"category findJob"},f=(0,a.Uk)("   "),g=(0,a.Uk)("   "),v={class:"table table-info table-hover table-bordered border-success align-middle"},m={key:0},b={key:1},_={key:2},P=o((()=>(0,a._)("thead",{class:"table-warning border-success align-middle"},[(0,a._)("tr",null,[(0,a._)("th",null,"№"),(0,a._)("th",null,"Профессия"),(0,a._)("th",null,"Зарплата"),(0,a._)("th",null,"Компания"),(0,a._)("th",null,"Дата создания")])],-1))),w=["href"],y={class:"pagination-wrapper"},k=["onClick"];function C(t,s,e,o,C,R){return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",l,[(0,a._)("div",null,[u,(0,a._)("button",{class:"btn btn-success",onClick:s[0]||(s[0]=t=>R.getJobs(R.urlRussia))},"Get"),c]),(0,a._)("div",null,[d,(0,a._)("button",{class:"btn btn-success",onClick:s[1]||(s[1]=t=>R.getJobs(R.urlUdmurtia))},"Get")])]),h,(0,a._)("div",p,[(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control w-75 d-inline",id:"searchProfession",placeholder:"в Удмуртии","onUpdate:modelValue":s[2]||(s[2]=t=>C.searchProfession=t),onKeyup:s[3]||(s[3]=(0,i.D2)((t=>R.getJobs(R.urlProfession)),["enter"]))},null,544),[[i.nr,C.searchProfession]]),f,(0,a._)("button",{class:"btn btn-outline-primary",onClick:s[4]||(s[4]=t=>R.getJobs(R.urlProfession))}," Find ")]),(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control w-75 d-inline",id:"searchProfessionRussia",placeholder:"в России","onUpdate:modelValue":s[5]||(s[5]=t=>C.searchProfessionRussia=t),onKeyup:s[6]||(s[6]=(0,i.D2)((t=>R.getJobs(R.urlProfessionRussia)),["enter"]))},null,544),[[i.nr,C.searchProfessionRussia]]),g,(0,a._)("button",{class:"btn btn-outline-primary",onClick:s[7]||(s[7]=t=>R.getJobs(R.urlProfessionRussia))},"Find")])]),(0,a._)("table",v,[this.url&&this.url.includes("https://opendata.trudvsem.ru/api/v1/vacancies/region/18?")?((0,a.wg)(),(0,a.iD)("caption",m,"Удмуртия")):this.url&&this.url.includes("https://opendata.trudvsem.ru/api/v1/vacancies?")?((0,a.wg)(),(0,a.iD)("caption",b,"Россия")):((0,a.wg)(),(0,a.iD)("caption",_," ")),P,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.jobs,((t,s)=>((0,a.wg)(),(0,a.iD)("tr",{key:t.vacancy.id},[(0,a._)("td",null,(0,n.zw)(s+1+100*(this.offset-1)),1),(0,a._)("td",null,[(0,a._)("a",{href:t.vacancy.vac_url,target:"_blank",title:"Детали"},(0,n.zw)(t.vacancy["job-name"]),9,w)]),(0,a._)("td",null,(0,n.zw)(t.vacancy.salary),1),(0,a._)("td",null,(0,n.zw)(t.vacancy.company.name),1),(0,a._)("td",null,(0,n.zw)(t.vacancy["creation-date"]),1)])))),128))])]),(0,a._)("div",y,[(0,a.wy)((0,a._)("div",{class:"pagination-page bigger-width",onClick:s[8]||(s[8]=t=>R.changePage(1))}," 1 ... ",512),[[i.F8,C.offset>6]]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.totalPages,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,n.C_)(["pagination-page",{"current-page":C.offset===t,"pagination-slice-right":t>C.offset+5,"pagination-slice-left":t<C.offset-5}]),onClick:s=>R.changePage(t)},(0,n.zw)(t),11,k)))),128)),(0,a.wy)((0,a._)("div",{class:"pagination-page bigger-width",onClick:s[9]||(s[9]=t=>R.changePage(C.totalPages))}," ... "+(0,n.zw)(C.totalPages),513),[[i.F8,C.offset<C.totalPages-5]])])])}var R={name:"ApiPage",data(){return{jobs:null,errorMessage:null,url:null,searchProfession:null,searchProfessionRussia:null,offset:1,limit:100,totalPages:0}},computed:{urlRussia(){return"https://opendata.trudvsem.ru/api/v1/vacancies?offset="+this.offset+"&limit="+this.limit},urlUdmurtia(){return"https://opendata.trudvsem.ru/api/v1/vacancies/region/18?offset="+this.offset+"&limit="+this.limit},urlProfession(){return"https://opendata.trudvsem.ru/api/v1/vacancies/region/18?text="+encodeURIComponent(this.searchProfession)+"&offset="+this.offset+"&limit="+this.limit},urlProfessionRussia(){return"https://opendata.trudvsem.ru/api/v1/vacancies?text="+encodeURIComponent(this.searchProfessionRussia)+"&offset="+this.offset+"&limit="+this.limit}},methods:{getJobs(t){fetch(t).then((async t=>{const s=await t.json();if(!t.ok){const e=s&&s.message||t.statusText;return Promise.reject(e)}0===Object.entries(s.results).length&&alert("No such vacancy"),this.jobs=s.results.vacancies,this.url=t.url,Math.floor(s.meta.total/this.limit)<100?this.totalPages=Math.floor(s.meta.total/this.limit):this.totalPages=99})).catch((t=>{this.errorMessage=t,console.error("There was an error!",t)}))},changePage(t){this.offset=t,this.url.includes("https://opendata.trudvsem.ru/api/v1/vacancies?")&&!1===this.url.includes("https://opendata.trudvsem.ru/api/v1/vacancies?text=")?this.getJobs(this.urlRussia):this.url.includes("https://opendata.trudvsem.ru/api/v1/vacancies/region/18?")&&!1===this.url.includes("https://opendata.trudvsem.ru/api/v1/vacancies/region/18?text=")?this.getJobs(this.urlUdmurtia):this.url.includes("https://opendata.trudvsem.ru/api/v1/vacancies/region/18?text=")?this.getJobs(this.urlProfession):this.url.includes("https://opendata.trudvsem.ru/api/v1/vacancies?text=")&&this.getJobs(this.urlProfessionRussia)}}},J=e(89);const U=(0,J.Z)(R,[["render",C],["__scopeId","data-v-4659f936"]]);var D=U}}]);
//# sourceMappingURL=994.606735d0.js.map